#$1000-$2FFF MSX
#$2800-$3FFF GFX
#$4000-$CBFF Code,Heap, Stack
#$CC00-$CFFF Screen Mem for BMP
#$E000-$FFFF BMP
FEATURES {
	STARTADDRESS: default = $0801;
}


MEMORY {
    ZP:  		start = $0002, size = $0034, type = rw, define = yes;
	LOADADDR: 	file = %O, start = %S - 2, size = $0002;
	HEADER: 	file = %O, define = yes, start = %S, size = $000D;
    MAIN: 		file = %O, define = yes, start = $080d, size = $C401;
}


SEGMENTS {
	ZEROPAGE:   load = ZP, 			type = zp;
	LOADADDR: 	load = LOADADDR, 	type = ro;
	EXEHDR: 	load = HEADER, 		type = ro;
    STARTUP:    load = MAIN, 		type = ro;
	DAT:        load = MAIN, 		type = ro, start = $0dc0;
	CODE:       load = MAIN, 		type = ro, define = yes;
    RODATA:     load = MAIN, 		type = ro;
    DATA:       load = MAIN, 		type = rw;
    INIT:       load = MAIN, 		type = ro, define = yes, optional = yes;
	ONCE: 		load = MAIN, 		type = rw;
    BSS:        load = MAIN, 		type = bss, define = yes;
	# DAT: 		$0DC0 - $4000
	# zoo.dat
	# $0000-$0001		$0002	Load address/ unused
	# $0002-$0242		$0240	Sprites	(9 Sprites, 8 animals, 1 cursor)
	# $0242-$1ADF		$189E	Music data
	# $1AE0-$1E41		$0362	Padded with zero
	# $1E42-$3241		$1400	??
    HEAP:       load = MAIN, 		type = bss, optional = yes; 	# must sit just below stack
}


FEATURES {
    CONDES: segment = INIT,
	    type = constructor,
	    label = __CONSTRUCTOR_TABLE__,
	    count = __CONSTRUCTOR_COUNT__;
    CONDES: segment = RODATA,
	    type = destructor,
	    label = __DESTRUCTOR_TABLE__,
	    count = __DESTRUCTOR_COUNT__;
    CONDES: segment = RODATA,
	    type = interruptor,
	    label = __INTERRUPTOR_TABLE__,
	    count = __INTERRUPTOR_COUNT__;
}


SYMBOLS {
	__STACKSIZE__: type = weak, value = $800;
	__LOADADDR__: type = import;
	__EXEHDR__: type = import;
}

